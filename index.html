<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LearnHub Ultimate L–12</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;}
body{background:#f0f4f8;color:#333;}
header{background:#0a74da;color:white;padding:15px 30px;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:1000;}
header .logo{font-size:1.8em;font-weight:bold;}
header nav ul{list-style:none;display:flex;}
header nav ul li{margin-left:20px;}
header nav ul li a{color:white;text-decoration:none;font-weight:bold;cursor:pointer;}
.hero{text-align:center;padding:50px 20px;background:linear-gradient(90deg,#0a74da,#00c6ff);color:white;}
.hero h1{font-size:3em;margin-bottom:15px;}
.hero p{font-size:1.2em;}
section{padding:40px 20px;}
.grades-container,.lessons-container{display:flex;flex-wrap:wrap;gap:15px;justify-content:center;}
.grade-card,.lesson-card{background:white;border-radius:12px;padding:20px;width:180px;text-align:center;box-shadow:0 4px 12px rgba(0,0,0,0.1);cursor:pointer;transition:transform 0.2s;}
.grade-card:hover,.lesson-card:hover{transform:translateY(-5px);box-shadow:0 8px 20px rgba(0,0,0,0.2);}
.lesson-content{max-width:900px;margin:20px auto;padding:20px;background:white;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,0.1);position:relative;}
.lesson-content h3{margin-bottom:15px;}
.quiz{margin-top:20px;}
.quiz button{display:block;margin:10px 0;padding:10px 15px;background:#0a74da;color:white;border:none;border-radius:6px;cursor:pointer;}
.stats{text-align:center;margin-bottom:20px;font-size:1.1em;}
.stats span{font-weight:bold;color:#0a74da;}
.progress-container{width:80%;height:20px;background:#ddd;border-radius:10px;margin:10px auto;overflow:hidden;}
.progress-bar{height:100%;width:0%;background:#0a74da;transition:width 0.5s;}
.streak-glow{animation:glow 1s ease infinite alternate;}
@keyframes glow{0%{box-shadow:0 0 5px #0a74da;}100%{box-shadow:0 0 20px #00fffc;}}
.fade-in{animation:fadeIn 0.5s ease forwards;}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}
.confetti {position:fixed;width:10px;height:10px;background:#ff0;animation:fall 2s linear infinite;}
@keyframes fall {0%{transform:translateY(0);}100%{transform:translateY(800px);}}
.lesson-diagram{width:100%;height:250px;border:1px solid #ccc;margin:10px 0;}
footer{text-align:center;padding:20px;background:#0a74da;color:white;margin-top:40px;}
@media(max-width:600px){.grade-card,.lesson-card{width:140px;}}
</style>
</head>
<body>
<audio id="soundCorrect" src="https://freesound.org/data/previews/276/276020_5121236-lq.mp3"></audio>
<audio id="soundWrong" src="https://freesound.org/data/previews/256/256113_4486188-lq.mp3"></audio>
<audio id="soundCheer" src="https://freesound.org/data/previews/276/276025_5121236-lq.mp3"></audio>

<header>
<div class="logo">LearnHub</div>
<nav>
<ul>
<li><a id="navCurriculum">Curriculum</a></li>
<li><a id="navLeaderboard">Leaderboard</a></li>
<li><a id="backToGrades" style="display:none;">Back to Grades</a></li>
</ul>
</nav>
</header>

<section class="hero">
<h1>Learn Math & Science L–12</h1>
<p>Interactive lessons, quizzes, graphs, formulas, and simulations.</p>
</section>

<section id="stats" class="stats">
<span id="xp">XP: 0</span> | <span id="streak">Streak: 0</span>
<div class="progress-container"><div class="progress-bar" id="xpBar"></div></div>
</section>

<section id="curriculum">
<h2>Curriculum</h2>
<div class="grades-container" id="grades-container"></div>
</section>

<section id="lessons" style="display:none;">
<h2 id="lesson-grade-title">Lessons</h2>
<div class="lessons-container" id="lessons-container"></div>
<div class="lesson-content" id="lesson-content" style="display:none;"></div>
</section>

<section id="leaderboard">
<h2>Leaderboard</h2>
<div id="leaderboard-list"><p>Top learners will appear here!</p></div>
</section>

<footer>
<p>&copy; 2025 LearnHub. All rights reserved.</p>
</footer>

<script>
// --- Sounds ---
const soundCorrect=document.getElementById("soundCorrect");
const soundWrong=document.getElementById("soundWrong");
const soundCheer=document.getElementById("soundCheer");

// --- XP & Streak ---
let xp=parseInt(localStorage.getItem("xp"))||0;
let streak=parseInt(localStorage.getItem("streak"))||0;
const xpBar=document.getElementById("xpBar");
function updateStats(){
    document.getElementById("xp").innerText=`XP: ${xp}`;
    document.getElementById("streak").innerText=`Streak: ${streak}`;
    xpBar.style.width=`${Math.min(xp%100,100)}%`;
    if(streak>0 && streak%5===0){document.getElementById("streak").classList.add("streak-glow"); soundCheer.play();showConfetti();}
    else{document.getElementById("streak").classList.remove("streak-glow");}
}
updateStats();

// --- Complete Curriculum (structure, can expand all topics) ---
const curriculum = [
  {grade:"L", subjects:[{name:"Numbers & Shapes",content:"Counting 1–10, basic shapes",diagram:"Number line",quiz:[{q:"1+2=?",a:["3","2"],correct:0}]}]},
  {grade:"1", subjects:[{name:"Addition & Subtraction",content:"Numbers up to 20",diagram:"Addition chart",quiz:[{q:"5+3=?",a:["8","7"],correct:0}]}]},
  {grade:"2", subjects:[{name:"Multiplication & Division",content:"Times tables 1-10",diagram:"Multiplication table",quiz:[{q:"3x4=?",a:["12","11"],correct:0}]}]},
  {grade:"3", subjects:[{name:"Fractions",content:"1/2, 1/3, 1/4",diagram:"Fraction chart",quiz:[{q:"1/2+1/4=?",a:["3/4","1/4"],correct:0}]}]},
  {grade:"4", subjects:[{name:"Decimals",content:"Tenths and Hundredths",diagram:"Decimal chart",quiz:[{q:"0.5+0.5=?",a:["1","0.1"],correct:0}]}]},
  {grade:"5", subjects:[{name:"Advanced Fractions",content:"Add/Subtract/Multiply fractions",diagram:"Fraction operations",quiz:[{q:"1/2+1/4=?",a:["3/4","1/4"],correct:0}]}]},
  {grade:"6", subjects:[{name:"Algebra Basics",content:"Simple equations",diagram:"Equation balance",quiz:[{q:"x+3=5, x=?",a:["2","3"],correct:0}]}]},
  {grade:"7", subjects:[{name:"Geometry",content:"Angles, Triangles, Circles",diagram:"Geometry diagram",quiz:[{q:"Triangle sum?",a:["180°","90°"],correct:0}]}]},
  {grade:"8", subjects:[{name:"Linear Equations",content:"Solve for x",diagram:"Equation graph",quiz:[{q:"2x+3=7, x=?",a:["2","3"],correct:0}]}]},
  {grade:"9", subjects:[{name:"Quadratics & Chemistry Basics",content:"ax²+bx+c=0, reactions",diagram:"Parabola & reaction",quiz:[{q:"x²-4=0, x=?",a:["2 or -2","4"],correct:0}]}]},
  {grade:"10", subjects:[{name:"Trigonometry & Physics",content:"Sine, Cosine, Motion",diagram:"Trig circle & vectors",quiz:[{q:"sin 30°?",a:["0.5","1"],correct:0}]}]},
  {grade:"11", subjects:[{name:"Calculus Basics & Organic Chemistry",content:"Limits, derivatives, hydrocarbons",diagram:"Derivative graph & molecule",quiz:[{q:"d/dx x²?",a:["2x","x²"],correct:0}]}]},
  {grade:"12", subjects:[{name:"Advanced Calculus & Physics & Biochemistry",content:"Integrals, Kinematics, DNA",diagram:"Integral graph & DNA helix",quiz:[{q:"∫x dx?",a:["x²/2","x"],correct:0}]}]}
];

// --- Elements ---
const gradesContainer=document.getElementById("grades-container");
const lessonsSection=document.getElementById("lessons");
const lessonsContainer=document.getElementById("lessons-container");
const lessonContentDiv=document.getElementById("lesson-content");
const lessonGradeTitle=document.getElementById("lesson-grade-title");
const backToGrades=document.getElementById("backToGrades");

// --- Generate Grade Cards ---
curriculum.forEach(c=>{
    const card=document.createElement("div");
    card.className="grade-card fade-in";
    card.innerHTML=`<h3>Grade ${c.grade}</h3><p>${c.subjects.map(s=>s.name).join(", ")}</p>`;
    card.onclick=()=>showLessons(c);
    gradesContainer.appendChild(card);
});

// --- Show Lessons ---
function showLessons(gradeObj){
    lessonsSection.style.display="block";
    gradesContainer.parentElement.scrollIntoView({behavior:"smooth"});
    lessonGradeTitle.innerText=`Grade ${gradeObj.grade} Lessons`;
    lessonsContainer.innerHTML="";
    lessonContentDiv.style.display="none";
    backToGrades.style.display="inline";
    gradeObj.subjects.forEach(sub=>{
        const lcard=document.createElement("div");
        lcard.className="lesson-card fade-in";
        lcard.innerText=sub.name;
        lcard.onclick=()=>openLesson(sub);
        lessonsContainer.appendChild(lcard);
    });
}

// --- Open Lesson ---
function openLesson(subject){
    lessonContentDiv.style.display="block";
    lessonContentDiv.innerHTML=`<h3>${subject.name}</h3>
    <p>${subject.content}</p>
    <canvas id="lessonDiagram" class="lesson-diagram"></canvas>
    <div class="quiz" id="quizContainer"></div>`;
    drawDiagram(subject);
    generateQuiz(subject);
}

// --- Draw Diagram ---
function drawDiagram(subject){
    const canvas=document.getElementById("lessonDiagram");
    const ctx=canvas.getContext("2d");
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle="#0a74da";
    ctx.font="16px Arial";
    ctx.fillText(subject.diagram || "Diagram",50,50);
}

// --- Quiz ---
function generateQuiz(subject){
    const container=document.getElementById("quizContainer");
    container.innerHTML="";
    subject.quiz.forEach(qs=>{
        const qdiv=document.createElement("div");
        qdiv.innerHTML=`<p>${qs.q}</p>`;
        qs.a.forEach((opt,optIndex)=>{
            const btn=document.createElement("button");
            btn.innerText=opt;
            btn.onclick=()=>{
                if(optIndex===qs.correct){ xp+=10; streak+=1; soundCorrect.play();}
                else{ streak=0; soundWrong.play();}
                localStorage.setItem("xp",xp);
                localStorage.setItem("streak",streak);
                updateStats();
                updateLeaderboard();
            };
            qdiv.appendChild(btn);
        });
        container.appendChild(qdiv);
    });
}

// --- Confetti ---
function showConfetti(){
    for(let i=0;i<50;i++){
        const conf=document.createElement("div");
        conf.className="confetti";
        conf.style.left=Math.random()*window.innerWidth+"px";
        conf.style.background=`hsl(${Math.random()*360},100%,50%)`;
        document.body.appendChild(conf);
        setTimeout(()=>conf.remove(),2000);
    }
}

// --- Back to Grades ---
backToGrades.onclick=()=>{ lessonsSection.style.display="none"; backToGrades.style.display="none"; window.scrollTo({top:0,behavior:"smooth"}); };

// --- Leaderboard ---
function updateLeaderboard(){
    let leaderboard=JSON.parse(localStorage.getItem("leaderboard"))||[];
    leaderboard.push({name:"You",xp:xp});
    leaderboard.sort((a,b)=>b.xp-a.xp);
    localStorage.setItem("leaderboard",JSON.stringify(leaderboard.slice(0,10)));
    const lb=document.getElementById("leaderboard-list");
    lb.innerHTML="";
    leaderboard.slice(0,10).forEach((l,i)=>{ lb.innerHTML+=`<p>${i+1}. ${l.name} - ${l.xp} XP</p>`; });
}
updateLeaderboard();

// --- Navigation ---
document.getElementById("navCurriculum").onclick=()=>{ window.scrollTo({top:document.getElementById("curriculum").offsetTop,behavior:"smooth"}); };
document.getElementById("navLeaderboard").onclick=()=>{ window.scrollTo({top:document.getElementById("leaderboard").offsetTop,behavior:"smooth"}); };
</script>
</body>
</html>
